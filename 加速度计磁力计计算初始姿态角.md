# 加速度计磁力计计算初始姿态角
## 加速度计只能得到初始roll和初始pitch
```
syms yaw pitch roll g
% 旋转矩阵R 
R = [
[cos(roll)*cos(yaw) - sin(pitch)*sin(roll)*sin(yaw), -cos(pitch)*sin(yaw), cos(yaw)*sin(roll) + cos(roll)*sin(pitch)*sin(yaw)]
[cos(roll)*sin(yaw) + cos(yaw)*sin(pitch)*sin(roll),  cos(pitch)*cos(yaw), sin(roll)*sin(yaw) - cos(roll)*cos(yaw)*sin(pitch)]
[                             -cos(pitch)*sin(roll),           sin(pitch),                               cos(pitch)*cos(roll)]
];

% [ax; ay; az] = R * [0; 0; g];
% 注意，转置， 为什么需要转置，因为这个R是用来将测量值（载体）转为实际值的（大地）
acc = R.' * [0; 0; g]

% -g*cos(pitch)*sin(roll) = ax
%            g*sin(pitch) = ay
%  g*cos(pitch)*cos(roll) = az

% pitch = asin(ay/g);
% roll = atan2(-ax, az);
```
## 磁力计可以得到初始yaw
